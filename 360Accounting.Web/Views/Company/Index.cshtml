@model _360Accounting.Web.Models.CompanyListModel

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@{
    if (Model.Companies != null)
    {
        if (Model.Companies.Count() > 0)
        {
            var grid = new WebGrid(canSort: true);
            grid.Bind(Model.Companies);

            @grid.GetHtml(tableStyle: "table",
                            mode: WebGridPagerModes.All,
                            numericLinksCount: 10,
                            htmlAttributes: new { style = "width:100%" },
                            columns: grid.Columns
                            (grid.Column(columnName: "Id",
                                            header: "Company Id",
                                            canSort: true),
                            grid.Column("Name", header: "Company Name", canSort: true),
                            grid.Column("", "", style: "ActionLink",
                                format: (item) => Html.Raw("<a href='" +
                                @Url.Content("~/Company/Edit/") + item.Id + "'>Edit</a>")),
                            grid.Column("", "", style: "ActionLink",
                                format: (item) => Html.Raw("<a href='" +
                                     @Url.Content("~/Company/Delete/") + item.Id + "'>Delete</a>")
                    )))
        }
        else
        {
            <div id='dvNoRecord'>No Record Found!</div>
        }
    }
}